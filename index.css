@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
  SISTEMA DE FUENTES DE RESPALDO (ANTI-TOFUS)
  Priorizamos fuentes con amplios rangos Unicode para evitar los cuadros [X].
*/

:root {
  --unicode-fallbacks: "Noto Sans", "Arial Unicode MS", "Segoe UI Symbol", "Apple Color Emoji", "Segoe UI Emoji", "Noto Color Emoji", sans-serif;
}

.fallback-char {
  display: inline-block;
  color: inherit;
  font-family: inherit; /* Mantener coherencia si es posible */
  position: relative;
  text-decoration: underline dotted #ccc;
}

/* Refuerzo por categorías */
.font-ctx-decorative {
  font-family: 'Inter', var(--unicode-fallbacks);
}

.font-ctx-script .fallback-char {
  font-family: "Brush Script MT", "Segoe Script", var(--unicode-fallbacks);
  font-style: italic;
  font-weight: 500;
}

.font-ctx-gothic .fallback-char {
  font-family: "Georgia", "Times New Roman", var(--unicode-fallbacks);
  font-weight: 700;
}

/* 
  PERFORMANCE OPTIMIZATION:
  Skip rendering of content that is off-screen.
  This drastically reduces Main Thread work for long font lists.
*/
.content-visibility-auto {
  content-visibility: auto;
  contain-intrinsic-size: 1px 200px; /* Estimate height of a font card */
}

/* Estabilización de renderizado para combinadores Unicode */
p[role="img"] {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  word-break: break-all;
}

/* Animaciones */
.animate-shimmer {
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% { background-position: 100% 0; }
  100% { background-position: -100% 0; }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  @apply bg-transparent;
}

::-webkit-scrollbar-thumb {
  @apply bg-slate-300 dark:bg-slate-700 rounded-full border-4 border-transparent bg-clip-content;
}

.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}